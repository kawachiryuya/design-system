# アクセシビリティテスト

## メタ情報
- カテゴリ: 基盤原則 > アクセシビリティ
- 適用範囲: 全階層
- ステータス: Approved
- 最終更新: 2024-01-15

## 原則の定義

**アクセシビリティを継続的にテストし、すべてのユーザーが実際に使用できることを確認する**

## 自動テスト

### ツール

- **axe DevTools**: ブラウザ拡張で自動チェック
- **Lighthouse**: Chromeの監査ツール
- **Pa11y**: CI/CDに組み込める
- **Jest + jest-axe**: ユニットテストで検証

### 限界

自動テストは問題の約30-40%しか検出できない。手動テストが必須。

## 手動テスト

### 必須テスト項目

#### 1. キーボード操作
- [ ] マウスなしで全機能を操作可能
- [ ] フォーカスが視認できる
- [ ] 論理的なTab順序

#### 2. スクリーンリーダー
- [ ] NVDA、JAWS、VoiceOverで確認
- [ ] すべてのコンテンツが読み上げられる
- [ ] 適切なARIA属性

#### 3. ズーム
- [ ] 200%ズームで操作可能
- [ ] 横スクロール不要

#### 4. 色覚シミュレーション
- [ ] Chrome DevToolsでエミュレーション
- [ ] 色だけに依存していないか

## スクリーンリーダー

### 主要なスクリーンリーダー

| OS | スクリーンリーダー | 費用 |
|----|---------------|------|
| Windows | NVDA | 無料 |
| Windows | JAWS | 有料 |
| macOS/iOS | VoiceOver | 無料（標準搭載） |
| Android | TalkBack | 無料（標準搭載） |

### テスト手順

1. スクリーンリーダーを起動
2. 画面を見ずに音声のみで操作
3. すべての情報が音声で得られるか確認

## チェックリスト

### 基本要件

- [ ] キーボードで全機能操作可能
- [ ] フォーカスインジケーター表示
- [ ] 適切なARIA属性
- [ ] コントラスト比AA基準
- [ ] タップ領域44px×44px以上
- [ ] 見出し階層が論理的
- [ ] 200%ズームで利用可能

### 各コンポーネント

- [ ] 適切なHTML要素（button, input等）
- [ ] ラベル付け
- [ ] 状態の明示
- [ ] エラーメッセージ

## CI/CDへの統合

```yaml
# GitHub Actions例
- name: Run Pa11y
  run: pa11y-ci --config .pa11yci.json
```

## 関連ドキュメント

- [Keyboard Navigation](./keyboard-navigation.md)
- [Screen Readers](./screen-readers.md)
- [Color Contrast](./color-contrast.md)

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-01-15 | 1.0.0 | 初版作成 | accessibility.mdから分離 |
