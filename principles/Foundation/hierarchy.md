# 視覚的ヒエラルキーの原則（Visual Hierarchy）

## メタ情報
- カテゴリ: 基盤原則
- 適用範囲: 全階層（Atom〜Page）
- ステータス: Approved
- 最終更新: 2024-01-15

## 原則の定義

**視覚的な重みの差をつくることで、ユーザーが情報の重要度を瞬時に理解できるようにする**

視覚的ヒエラルキーとは、画面上の要素に「重要なもの」「次に重要なもの」「補足的なもの」という順序を与えることです。人間の目は均質な画面より差異のある画面から先に重要な情報を読み取ります。適切なヒエラルキーがあれば、ユーザーは迷わず自然に視線を動かせます。

## なぜ視覚的ヒエラルキーが重要か

ヒエラルキーのない画面では:

- **どこを見ればいいか分からない**: すべての要素が同じ重みに見える
- **重要な情報を見落とす**: 主要なアクションやメッセージに気づかない
- **認知負荷が高まる**: ユーザーが自分で優先度を判断しなければならない
- **操作の迷いが生じる**: どのボタンを押すべきか分からない

## 視覚的ヒエラルキーの5つの手段

視覚的ヒエラルキーは、以下の手段を組み合わせて実現します。これらは単独でも機能しますが、複数を組み合わせることでより強い差異が生まれます。

### 1. サイズ（Size）

大きいものが重要に見える。最も直感的な手段。

**原則**: 重要度に応じてサイズを変える。ただし差は明確に。

```
Display / H1  →  最も大きい（ページの主題）
H2            →  次に大きい（主要セクション）
H3            →  さらに小さい（サブセクション）
Body          →  本文サイズ（情報の本体）
Caption       →  最も小さい（補足情報）
```

**よくある失敗**: サイズの差が小さすぎて階層が伝わらない

```
❌ 悪い例: H1=18px、H2=16px、Body=15px（差が小さく階層不明）
✅ 良い例: H1=36px、H2=24px、Body=16px（明確な差）
```

→ スケール定義は [Typography Scale](../content/typography/scale.md) 参照

### 2. 色とコントラスト（Color & Contrast）

高コントラストなものが重要に見える。色自体の意味とは別に、明度差でヒエラルキーを表現できる。

**原則**: 重要な要素ほど高コントラスト、補足的な要素ほど低コントラスト。

```
主要テキスト    →  neutral-900（最高コントラスト）
副次的テキスト  →  neutral-700
補足テキスト    →  neutral-500
無効テキスト    →  neutral-400（最低コントラスト）
```

**ブランドカラーの活用**: Primaryボタンにブランドカラーを使うことで、ページ内で最も目を引く要素にする。

```
Primary Button  →  brand-600（高彩度・高コントラスト）
Secondary       →  neutral（低彩度・控えめ）
Tertiary        →  テキストのみ（最も控えめ）
```

→ 詳細は [Color Usage](../color/color-usage.md)、[Button Priority](../interaction/button/priority.md) 参照

### 3. 余白（Spacing）

余白が多いものが重要に見える。周囲に「空間」を与えることで要素が際立つ。

**原則**: 重要な要素には多くの余白を。密集した領域より、ゆとりのある領域が目を引く。

**余白によるグルーピング**:

```
関連するものは近く、関係のないものは遠くに配置する（ゲシュタルトの近接の法則）

セクションA
  ├─ 項目1（近い）
  ├─ 項目2（近い）
  └─ 項目3（近い）

[大きな余白]

セクションB
  ├─ 項目1（近い）
  └─ 項目2（近い）
```

**見出しと本文の余白**:

```
セクション間: 48px（spacing-12）
見出しと本文の間: 16px（spacing-4）
段落間: 24px（spacing-6）
```

→ 詳細は [Spacing](../layout/spacing.md) 参照

### 4. 位置（Position）

上・左にあるものが重要に見える（左上から右下への読み順）。また、中央に配置された要素は視線を引きつける。

**原則**:
- ページの最重要情報は上部に
- 同列に並ぶ要素は左から右へ重要度順
- アクションの完了（Primaryボタン）は視線の終点（右・下）に

**F字型の視線パターン**:

横書きのコンテンツでは、ユーザーはF字型に画面をスキャンする。

```
[=====ここをよく見る=====]
[====ここも見る====]
[ここ]
[こ]
[こ]
```

→ 重要な情報は上部と左寄りに配置する

**Primaryアクションの位置**:

```
横並び: [ Secondary ]  [ Primary ]  ← 右端が視線の終点
縦並び: [ Primary ]                  ← 上が最初に目に入る
         [ Secondary ]
```

→ 詳細は [Action Placement](../interaction/button/placement.md) 参照

### 5. 太さと字体（Weight & Style）

太字・ボールドは重要に見える。イタリックや異なるフォントは差別化に使える。

**原則**: 重要度に応じてウェイトを変える。強調は控えめに。

```
見出し      →  700（Bold）
強調テキスト →  600（SemiBold）
本文        →  400（Regular）
補足        →  300（Light）
```

**強調の乱用に注意**:

```
❌ 悪い例: すべての重要そうな部分をBoldにする
           → 全部重要に見えて、何も強調されていない

✅ 良い例: Bold化は1段落に1-2箇所まで
           → 本当に重要な部分だけが際立つ
```

## 手段の組み合わせ

強いヒエラルキーは複数の手段を重ねることで生まれます。

### 強いヒエラルキーの例（Primaryボタン）

```
Primary Button:
  サイズ: medium（他と同じでも可）
  色: brand-600（高彩度・目立つ）
  余白: 十分なpadding（存在感）
  位置: 右端または上部（視線の終点）
  太さ: SemiBold（通常テキストより太い）
  
→ 5つの手段すべてが「重要」を示す
```

### 弱いヒエラルキーの例（Tertiaryボタン）

```
Tertiary Button:
  サイズ: 同じ
  色: brand-600テキスト（控えめ）
  余白: 少ない（存在感を抑える）
  位置: 左端または下部
  太さ: Regular
  
→ 目立たない、でも見つけられる
```

## ヒエラルキーの段数

**原則**: 1つの画面内で3〜4段階のヒエラルキーを超えない

段数が多すぎると、差が小さくなりヒエラルキーが伝わらない。

```
✅ 適切（3段階）:
  1. ページタイトル（最重要）
  2. セクション見出し（重要）
  3. 本文（情報）

✅ 適切（4段階）:
  1. H1（ページ主題）
  2. H2（セクション）
  3. H3（サブセクション）
  4. Body（本文）

❌ 多すぎ（6段階）:
  H1 / H2 / H3 / H4 / H5 / Body
  → 差が曖昧になり階層が伝わらない
```

## Atomic Design階層でのヒエラルキー

### Atoms（最小単位）

個々の要素内でのヒエラルキー。

- Buttonのラベルテキスト > アイコン
- Inputのラベル > プレースホルダー
- Badgeの数値 > 背景

### Molecules（機能単位）

複数Atomsを組み合わせた際のヒエラルキー。

- FormField: ラベル > 入力フィールド > ヘルプテキスト > エラーメッセージ
- SearchField: 入力フィールド > 検索ボタン

### Organisms（機能ブロック）

ページ内の大きな塊のヒエラルキー。

- Header: ロゴ > メインナビ > アクション
- Card: タイトル > サムネイル > 本文 > アクション

### Pages（ページ全体）

1ページ全体でのヒエラルキー。

- ページの主題（H1）が最上位
- 主要アクション（Primary Button）が最も目立つ
- 補足情報（Caption, footnote）が最も控えめ

## 測定方法

### スクワントテスト

**方法**: 画面を細目で見る（または画面をぼかして見る）。最初に目に入るものが、意図した最重要要素か確認する。

```
細目で見て最初に目に入るもの = ユーザーが最初に注目するもの

意図した要素と一致している → ✅ ヒエラルキーが適切
別の要素が目立っている    → ❌ ヒエラルキーを見直す
```

### チェックリスト

- [ ] 1画面に明確な「最重要要素」が1つある
- [ ] ヒエラルキーの段数が3〜4段階以内
- [ ] サイズの差が明確（隣接する段と最低20%の差）
- [ ] Primaryアクションが最も目立つ
- [ ] 補足情報（Caption等）が控えめに見える
- [ ] スクワントテストで意図した要素が最初に目に入る
- [ ] ボールドの使用が各段落で1〜2箇所以内

## 関連原則

- **[Consistency](./consistency.md)**: ヒエラルキーは一貫して適用する
- **[Typography Scale](../content/typography/scale.md)**: サイズと太さの定義
- **[Typography Hierarchy](../content/typography/hierarchy.md)**: テキスト階層の定義
- **[Spacing](../layout/spacing.md)**: 余白によるヒエラルキー
- **[Color Usage](../color/color-usage.md)**: 色によるヒエラルキー
- **[Button Priority](../interaction/button/priority.md)**: ボタンのヒエラルキー
- **[Action Placement](../interaction/button/placement.md)**: 位置によるヒエラルキー

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-01-15 | 1.0.0 | 初版作成 | Phase 2、consistency.mdに続く基盤原則 |
