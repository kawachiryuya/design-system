# 長押し（Long Press）

## メタ情報
- カテゴリ: インタラクション原則 > Gestures
- 適用範囲: Molecule〜Organism（モバイル）
- ステータス: Approved
- 最終更新: 2024-02-17

## 原則の定義

**長押しは追加的なアクションのトリガーとして使い、主要な操作には割り当てない**

## 長押しの定義

```
タップを500ms（0.5秒）以上保持 → 長押し判定
（OSやコンテキストによって300〜700msで変動）
```

## 用途

### コンテキストメニューの表示

最も一般的な用途。右クリックのモバイル版。

```
テキストの長押し → コピー・ペースト・選択メニュー
アイテムの長押し → 削除・共有・名前変更等のメニュー
アイコンの長押し → ホーム画面の編集モード（iOS）
```

### 編集モードへの切り替え

```
リストアイテムの長押し → 複数選択・並び替えモード

┌──────────────────────────────┐
│ ☑ アイテムA         ⠿ │  ← 長押し後の編集モード
│ ☐ アイテムB         ⠿ │
│ ☐ アイテムC         ⠿ │
└──────────────────────────────┘
```

### プレビュー（Peek & Pop）

```
リンクやカードの長押し → 遷移せずにプレビュー表示
指を離す → プレビューを閉じる
さらに押し込む（3D Touch） → 完全に遷移
```

## 設計原則

### 主要アクションには使わない

```
❌ 長押しが唯一の手段:
「この機能を使うには、アイコンを長押しします」
→ ユーザーが気づかない可能性が高い

✅ 長押しはショートカット・補助操作:
「長押しで追加オプション、タップで主要アクション」
```

### 開始のフィードバック

長押しが認識されたことをユーザーに伝える。

```
✅ フィードバックの例:
- 触覚フィードバック（バイブレーション）
- 視覚的な変化（背景のハイライト・スケール変化）
- 進捗インジケーター（長押しの進行度を示す輪）

実装:
500ms保持 → hapticフィードバック + コンテキストメニュー表示
```

### 誤操作の防止

```
✅ 誤長押しへの対応:
- コンテキストメニューはEsc/タップアウトで閉じられる
- 誤って選択した操作は確認ダイアログを挟む
- 破壊的アクション（削除）は長押しに割り当てない（二重の誤操作リスク）
```

## アクセシビリティ

```
長押しはポインターデバイスでは「右クリック」に相当する。

✅ 代替手段の提供:
- コンテキストメニューの代わりに「…」ボタンでアクションメニューを開く
- 編集モードは「編集」ボタンでも入れるようにする

Web実装:
contextmenu イベント（右クリック・長押しの両方をカバー）
```

## チェックリスト

- [ ] 長押しは補助操作（主要操作はタップ）
- [ ] 長押し認識時に触覚・視覚フィードバック
- [ ] コンテキストメニューは「…」ボタンでも開ける
- [ ] 編集モードは「編集」ボタンでも入れる
- [ ] 破壊的アクションを長押しに割り当てていない

## 関連ドキュメント

- [Overview](./overview.md)
- [Tap](./tap.md)
- [Swipe](./swipe.md)

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-02-17 | 1.0.0 | 初版作成 | Phase 3 |
