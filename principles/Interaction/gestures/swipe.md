# スワイプ（Swipe）

## メタ情報
- カテゴリ: インタラクション原則 > Gestures
- 適用範囲: Organism〜Page（モバイル）
- ステータス: Approved
- 最終更新: 2024-02-17

## 原則の定義

**スワイプの方向は慣習と一致させ、誤操作時に取り消せるようにする**

## スワイプの種類と用途

### 水平スワイプ（Horizontal Swipe）

```
左スワイプ: 削除・アーカイブ・非表示（リストアイテム）
            次のカード・次のページへ

右スワイプ: 既読・完了・ピン留め（リストアイテム）
            前のカード・前のページへ

慣習: メール・タスクアプリで広く定着
```

**スワイプ削除の実装原則**:
```
1. スワイプ中: アクションラベル（「削除」「アーカイブ」）を表示
2. しきい値（50%以上）を超えたら実行確定
3. 実行後: 「元に戻す」トーストを5秒表示
4. しきい値未満でリリース: 元の位置に戻る

┌──────────────────────────────┐
│ [🗑 削除]   アイテム名      │ ← スワイプ中
└──────────────────────────────┘
```

### 垂直スワイプ（Vertical Swipe）

```
上スワイプ: スクロール（基本操作）
            モーダルを閉じる（ボトムシート）
            詳細を展開

下スワイプ: スクロール（基本操作）
            プルトゥリフレッシュ（リスト上部で）
            モーダルを閉じる（ボトムシート・下方向に引く）
```

**プルトゥリフレッシュ**:
```
1. リスト最上部から下にスワイプ
2. インジケーターが追従して表示
3. しきい値を超えてリリース → 更新開始
4. スピナー表示 → 完了

⚠️ 注意: 常に「更新」ボタンも提供する
```

## スクロールとの競合を避ける

```
❌ 問題が起きやすい:
横スワイプで操作するカルーセルの中に、縦スクロールするコンテンツがある
→ ユーザーがどちらを操作したいか、システムが判断できない

✅ 解決策:
- カルーセルは横方向専用の領域を明確に確保する
- 縦横の操作領域を重ねない
- 10px以上の移動でスワイプ方向を決定（15°以内の誤差を許容）
```

## アクセシビリティ

```
✅ スワイプ操作には必ず代替手段を提供:
- スワイプ削除 → 「削除」ボタンも存在
- 横スクロールカルーセル → 「← →」ナビゲーションボタンも存在
- プルトゥリフレッシュ → 「更新」ボタンも存在
```

## チェックリスト

- [ ] スワイプ方向が慣習と一致している
- [ ] スワイプ中にアクションラベルを表示
- [ ] しきい値未満のリリースで元の位置に戻る
- [ ] 取り消し（元に戻す）を提供
- [ ] スクロールと競合しない設計
- [ ] キーボード・ボタンの代替手段を提供

## 関連ドキュメント

- [Overview](./overview.md)
- [Tap](./tap.md)
- **[Toast Notifications](../feedback/toast-notifications.md)**: 「元に戻す」トースト

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-02-17 | 1.0.0 | 初版作成 | Phase 3 |
