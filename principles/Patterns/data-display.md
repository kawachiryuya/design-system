# データ表示パターン

## メタ情報
- カテゴリ: パターン原則
- 適用範囲: Molecule〜Organism
- ステータス: Approved
- 最終更新: 2024-02-17

## 原則の定義

**データの構造と量に応じた最適な表示形式を選び、ユーザーが素早く情報を読み取れるようにする**

同じデータでも、表示形式によって「見やすい」「探しやすい」が大きく変わります。

## 表示形式の選択基準

まず「ユーザーがこのデータで何をしたいか」を問う。

| ユーザーの目的 | 適した形式 |
|-------------|-----------|
| 特定の項目を**探す** | テーブル・リスト |
| 全体を**把握する** | カード・サマリー |
| 項目を**比較する** | テーブル |
| 順番に**閲覧する** | リスト・フィード |
| 詳細を**深掘りする** | カード → 詳細ページ |

---

## テーブル（Table）

行と列でデータを整理。比較・検索に最適。

### 使う場面

```
✅ 向いている:
- 複数の属性を持つ項目の一覧（ユーザー管理、注文履歴）
- 数値の比較（売上レポート、スペック比較）
- ソート・フィルターが必要なデータ

❌ 向いていない:
- 属性が1〜2つしかない単純なリスト → リストを使う
- 画像や説明文が主役のコンテンツ → カードを使う
```

### テーブルの設計

**カラムの原則**:
```
- カラム数は7以下（多すぎると横スクロールが発生）
- 最重要カラムを左側に
- 数値は右揃え（桁が揃い比較しやすい）
- テキストは左揃え
- アクション列は右端に固定
```

**行の原則**:
```
行の高さ:
  密（データ重視）: 40px  → 管理画面・スプレッドシート
  標準:            48px  → 一般的なリスト
  ゆとり:          56px  → 重要な情報・読みやすさ優先
```

**ゼブラストライプ**:
```
行数が多い場合（10行以上）は交互の背景色で行を追いやすく:
奇数行: white
偶数行: neutral-50
```

### レスポンシブテーブル

```
デスクトップ: 通常のテーブル
┌──────┬────────┬──────┬────────┐
│ 名前 │ メール  │ 役割 │ 操作   │
├──────┼────────┼──────┼────────┤
│ 山田 │ y@... │ 管理者│[編集] │

モバイル: カード形式に変換
┌────────────────────────┐
│ 山田 太郎              │
│ y@example.com          │
│ 役割: 管理者           │
│              [編集]    │
└────────────────────────┘
```

### アクセシビリティ

```html
<table>
  <caption>ユーザー一覧</caption>  <!-- テーブルの説明 -->
  <thead>
    <tr>
      <th scope="col">名前</th>
      <th scope="col">メール</th>
      <th scope="col" aria-sort="ascending">登録日</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>山田 太郎</td>
      <td>yamada@example.com</td>
      <td>2024-01-15</td>
    </tr>
  </tbody>
</table>
```

- `<caption>`: テーブルの目的を説明
- `scope="col/row"`: ヘッダーの方向を明示
- `aria-sort`: ソート状態を通知

---

## リスト（List）

シンプルな項目の羅列。属性が少ない場合に適する。

### 3つのリストパターン

**シンプルリスト**: テキスト中心、密な情報

```
┌────────────────────────────────┐
│ 山田 太郎            管理者 >  │
│ 鈴木 花子            一般   >  │
│ 田中 次郎            一般   >  │
└────────────────────────────────┘
```

**メディアリスト**: サムネイル + テキスト

```
┌────────────────────────────────┐
│ [画像] タイトル                │
│        サブテキスト     日付   │
├────────────────────────────────┤
│ [画像] タイトル                │
│        サブテキスト     日付   │
└────────────────────────────────┘
```

**アクションリスト**: 各行にアクション付き

```
┌────────────────────────────────┐
│ 設定A                [トグル] │
│ 設定B                [トグル] │
│ 危険な操作           [削除 >] │
└────────────────────────────────┘
```

### リストの余白

```
密（設定画面等）: 行の高さ 40px、仕切り線あり
標準（一般リスト）: 行の高さ 56px、仕切り線あり
ゆとり（コンテンツ系）: 行の高さ 72px、仕切り線なし
```

→ [Spacing](../layout/spacing.md) 参照

---

## カード（Card）

独立したコンテンツのまとまり。視覚的なグルーピングに最適。

### 使う場面

```
✅ 向いている:
- 画像やビジュアルが主役（記事一覧、商品一覧）
- 各項目が独立していて比較より個別閲覧が目的
- ダッシュボードのサマリー

❌ 向いていない:
- 多数の属性を比較したい → テーブルを使う
- シンプルな項目リスト → リストを使う
```

### カードの構成

```
┌────────────────────────┐
│  [サムネイル画像]       │  ← 任意
├────────────────────────┤
│  タイトル              │  ← 必須、typography/hierarchy H3相当
│  サブテキスト / 日付   │  ← 任意
│                        │
│  本文の抜粋...          │  ← 任意（最大2〜3行）
│                        │
│  [タグ] [タグ]         │  ← 任意
│                   [→] │  ← アクション（任意）
└────────────────────────┘
```

**padding**: 内側は spacing-5（20px）〜 spacing-6（24px）標準

→ [Spacing](../layout/spacing.md) 参照

### カードグリッドのレスポンシブ

```
xl:      4列（各3col）
lg:      3列（各4col）
md:      2列（各6col）
sm以下:  1列（12col）
```

→ [Grid](../layout/grid.md) 参照

### インタラクティブなカード

カード全体がクリッカブルな場合:

```html
<!-- カード全体をリンクにする場合 -->
<article>
  <a href="/articles/1">
    <img src="..." alt="記事のサムネイル" />
    <h3>記事タイトル</h3>
    <p>記事の抜粋...</p>
  </a>
</article>

<!-- カード内に複数のリンクがある場合 -->
<article>
  <img src="..." alt="" />
  <h3><a href="/articles/1">記事タイトル</a></h3>
  <p>記事の抜粋...</p>
  <a href="/author/1">著者名</a>
</article>
```

カード全体をリンクにする場合、`<a>` の中に `<a>` は入れられない点に注意。

---

## 空状態（Empty State）

データがゼロの場合の表示。

### 空状態の3パターン

**初回空状態**（まだデータを作っていない）:

```
┌────────────────────────────────┐
│                                │
│        [イラスト]              │
│                                │
│    タスクはまだありません       │
│    最初のタスクを作りましょう   │
│                                │
│      [+ タスクを追加]          │  ← 明確なCTA
│                                │
└────────────────────────────────┘
```

**検索結果ゼロ**:

```
🔍 「○○」の検索結果はありません

・ キーワードのスペルを確認してください
・ 別のキーワードで試してください
・ フィルターを解除してみてください

[検索をリセット]
```

**エラーによる空状態**:

```
⚠ データを読み込めませんでした

しばらく経ってから再度お試しください

[再読み込み]
```

### 空状態のポイント

```
✅ 必ず含めるもの:
- 何が起きているかの説明（1文）
- 次のアクションへの誘導

❌ 避けること:
- 「データがありません」だけで終わる
- エラーの技術的な詳細をユーザーに見せる
```

---

## チェックリスト

### 表示形式の選択
- [ ] ユーザーの目的（探す/比較する/閲覧する）に合った形式を選んだ
- [ ] テーブルはカラム数が7以下

### テーブル
- [ ] 数値カラムが右揃え
- [ ] `<caption>` と `scope` を設定
- [ ] モバイルでカード形式に変換（または横スクロール対応）

### カード
- [ ] グリッドがブレークポイントに応じて列数変化
- [ ] カード全体リンクのHTML構造が正しい

### 空状態
- [ ] データゼロ・検索ゼロ・エラーの3パターンに対応
- [ ] 次のアクションへのCTAがある

## 関連ドキュメント

- **[Typography Hierarchy](../content/typography/hierarchy.md)**: テーブル・カードのテキスト階層
- **[Spacing](../layout/spacing.md)**: テーブル行・カードの余白
- **[Grid](../layout/grid.md)**: カードグリッドのレイアウト
- **[Status States](../interaction/states/status-states.md)**: ローディング・エラー状態
- **[Loading Indicators](../interaction/feedback/loading-indicators.md)**: データ読み込み中の表示
- **[Semantic Colors](../color/semantic-colors.md)**: 状態の色

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-02-17 | 1.0.0 | 初版作成 | Phase 2 |
