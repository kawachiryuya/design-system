# ナビゲーションパターン

## メタ情報
- カテゴリ: パターン原則
- 適用範囲: Organism〜Page
- ステータス: Approved
- 最終更新: 2024-02-17

## 原則の定義

**ユーザーが「今どこにいるか」を把握し、「次にどこへ行けるか」を迷わず判断できるようにする**

ナビゲーションはアプリケーション全体の骨格です。どれだけコンテンツが優れていても、たどり着けなければ意味がありません。

## なぜナビゲーション設計が重要か

- **迷子の防止**: 現在地が分からないと不安になり離脱する
- **探索の支援**: 目的のコンテンツへの最短ルートを提供する
- **階層の伝達**: サイト・アプリ全体の構造を暗黙的に伝える

## ナビゲーションの4原則

### 1. 現在地を常に示す

```
✅ 良い例:
ヘッダーナビ: [ホーム] [製品 ●] [料金] [サポート]
                              ↑ 現在のページをハイライト

パンくず: ホーム > 製品 > スタンダードプラン

❌ 悪い例:
すべての項目が同じスタイル（どこにいるか分からない）
```

### 2. 階層は3レベルまで

```
✅ 適切:
Level 1: 製品
Level 2: 機能一覧
Level 3: 詳細設定

❌ 深すぎ:
Level 1 > Level 2 > Level 3 > Level 4 > Level 5
→ ユーザーが迷子になる
```

深い階層が必要な場合は、情報アーキテクチャを見直すサイン。

### 3. ラベルは具体的に

```
❌ 曖昧: 「サービス」「ソリューション」「詳細はこちら」
✅ 具体的: 「料金プラン」「導入事例」「無料で始める」
```

ユーザーはラベルテキストだけでクリックするか判断する。

### 4. 一貫した配置

全ページで同じ位置・同じ構造を維持する。

→ [Consistency](../foundation/consistency.md) 参照

---

## ナビゲーションパターン

### 1. グローバルナビゲーション（ヘッダーナビ）

サイト全体のトップレベルナビゲーション。

```
デスクトップ:
┌─────────────────────────────────────────┐
│ [ロゴ]  ホーム  製品  料金  サポート  [ログイン] │
└─────────────────────────────────────────┘

モバイル:
┌────────────────────────────────┐
│ [ロゴ]                    [☰] │
└────────────────────────────────┘
          ↓ タップで展開
┌────────────────────────────────┐
│ ホーム                         │
│ 製品                           │
│ 料金                           │
│ [ログイン]                     │
└────────────────────────────────┘
```

**設計のポイント**:
- 項目数は5〜7個まで（多いと選択に迷う）
- 最重要アクション（CTA）は右端に配置
- モバイルはハンバーガーメニューへ切り替え

**ハンバーガーメニューの注意点**:
```
❌ 問題: アイコンのみだと認識されないユーザーがいる
✅ 改善: ラベルも添える → [☰ メニュー]
```

### 2. サイドバーナビゲーション

管理画面・ダッシュボード等、項目数が多い場合。

```
デスクトップ:
┌──────────┬──────────────────────────┐
│ダッシュボード│                          │
│ユーザー管理 │   メインコンテンツ         │
│ ● 設定   │                          │
│  一般    │                          │
│  通知    │                          │
│  請求    │                          │
└──────────┴──────────────────────────┘

モバイル: 左からスライドイン（Drawer）
```

**設計のポイント**:
- アクティブ項目を明確にハイライト
- 階層はインデントで表現（最大2段）
- モバイルは引き出し（Drawer）パターンへ

### 3. タブナビゲーション

同一ページ内のコンテンツ切り替え。

```
[概要] [機能] [料金 ●] [FAQ]
─────────────────●──────────
                 ↑ 現在タブに下線またはアクティブスタイル
```

**使う場面**: 同じ階層の関連コンテンツグループ

**使わない場面**:
```
❌ タブが5個以上 → スクロールタブか別パターンへ
❌ タブ切り替えでURLが変わる → リンクとして実装する
```

**キーボード操作**:
```
Tab:      タブグループ全体にフォーカス
← →:      タブ間を移動
Enter:    タブを選択
```

### 4. パンくずナビゲーション（Breadcrumb）

現在地の階層パスを表示。

```
ホーム > 製品 > スタンダードプラン > 詳細設定
  ↑        ↑          ↑               ↑
 リンク   リンク      リンク        現在地（リンクなし）
```

**使う場面**:
- 3レベル以上の階層構造があるサイト
- 検索から直接深い階層に来る可能性がある

**使わない場面**:
- フラットな構造（階層1〜2レベル）
- ウィザードのステップ表示 → Progress Indicator を使う

```html
<nav aria-label="パンくずナビ">
  <ol>
    <li><a href="/">ホーム</a></li>
    <li><a href="/products">製品</a></li>
    <li aria-current="page">スタンダードプラン</li>
  </ol>
</nav>
```

### 5. ボトムナビゲーション（モバイル）

モバイルアプリで最も重要な4〜5項目を画面下部に固定。

```
┌────────────────────────────────┐
│         メインコンテンツ        │
├────────────────────────────────┤
│  🏠      🔍      ＋      🔔      👤  │
│ ホーム  検索   投稿   通知  プロフ  │
└────────────────────────────────┘
```

**設計のポイント**:
- 4〜5項目まで（超えるならハンバーガーへ）
- アイコン + ラベルのセット
- タッチターゲットは最低44px

→ [Touch Targets](../foundation/accessibility/touch-targets.md) 参照

### 6. ページネーション

長いリストのページ分割。

```
← 前へ  [1] [2] [●3] [4] [5] ...  次へ →
```

**ページネーション vs 無限スクロール**:

| | ページネーション | 無限スクロール |
|--|----------------|--------------|
| 向き | 特定の項目を探したい | 受動的な閲覧 |
| URL | ページ番号がURLに入る | 状態が保持されない |
| フッター | フッターに到達できる | フッターが埋もれがち |

---

## アクセシビリティ

### 基本構造

```html
<nav aria-label="メインナビゲーション">
  <ul>
    <li><a href="/" aria-current="page">ホーム</a></li>
    <li><a href="/products">製品</a></li>
    <li><a href="/pricing">料金</a></li>
  </ul>
</nav>

<!-- 複数navがある場合はaria-labelで区別 -->
<nav aria-label="フッターナビゲーション">...</nav>
```

- `<nav>` 要素を使う（`<div>` で代替しない）
- 複数ある場合は `aria-label` で区別
- `aria-current="page"` で現在ページを示す

### スキップリンク

```html
<!-- ページ先頭に設置、フォーカス時に表示 -->
<a href="#main-content" class="skip-link">
  メインコンテンツへスキップ
</a>
```

キーボードユーザーがナビゲーションを毎回タブしなくて済む。

→ [Keyboard Navigation](../foundation/accessibility/keyboard-navigation.md) 参照

## チェックリスト

### 設計
- [ ] 現在地が明確に分かる（ハイライト・パンくず）
- [ ] 階層は3レベルまで
- [ ] ラベルが具体的で分かりやすい
- [ ] 全ページで一貫した位置・構造

### モバイル
- [ ] モバイル向けパターンに切り替えている
- [ ] タッチターゲットが44px以上

### アクセシビリティ
- [ ] `<nav>` 要素を使用
- [ ] 複数のnavに `aria-label` を設定
- [ ] `aria-current="page"` を設定
- [ ] スキップリンクを設置
- [ ] キーボードで全項目に到達できる

## 関連ドキュメント

- **[Hierarchy](../foundation/hierarchy.md)**: 情報の優先度とナビゲーション構造
- **[Consistency](../foundation/consistency.md)**: ナビゲーションの一貫した配置
- **[Responsiveness](../foundation/responsiveness.md)**: デバイス別のナビゲーション切り替え
- **[Keyboard Navigation](../foundation/accessibility/keyboard-navigation.md)**: キーボード操作
- **[Touch Targets](../foundation/accessibility/touch-targets.md)**: モバイルのサイズ要件
- **[Progress Indicators](../interaction/feedback/progress-indicators.md)**: ウィザードの進捗表示

## バージョン履歴

| 日付 | バージョン | 変更内容 | 変更理由 |
|------|-----------|----------|----------|
| 2024-02-17 | 1.0.0 | 初版作成 | Phase 2 |
